% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tile_engine.R
\name{make_tiles_disk}
\alias{make_tiles_disk}
\title{Create deterministic raster tiles on disk}
\usage{
make_tiles_disk(
  x,
  tile_size = 2048,
  buffer = 64,
  prefix = "tile",
  dir = tempdir(),
  overwrite = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{x}{A `SpatRaster` to be tiled.}

\item{tile_size}{Integer. Size (in pixels) of each tile along rows and
columns (excluding buffer).}

\item{buffer}{Integer. Number of pixels added as overlap on all sides of
each tile.}

\item{prefix}{Character. Filename prefix for generated tile files.}

\item{dir}{Character. Output directory where tiles will be written.}

\item{overwrite}{Logical. Whether to overwrite existing tile files.}

\item{verbose}{Logical. If `TRUE`, display progress information.}
}
\value{
A `data.frame` with one row per tile and the following columns:
  \describe{
    \item{tile_id}{Sequential tile identifier.}
    \item{file}{Path to the tile raster on disk.}
    \item{r0_in, r1_in}{Row indices of the inner (unbuffered) tile.}
    \item{c0_in, c1_in}{Column indices of the inner (unbuffered) tile.}
    \item{r0_buf, r1_buf}{Row indices including buffer.}
    \item{c0_buf, c1_buf}{Column indices including buffer.}
    \item{buffer}{Buffer size (in pixels).}
  }
}
\description{
Splits a large `SpatRaster` into fixed-size tiles with optional overlap
(buffer) and writes each tile to disk. Tiles are generated deterministically
in row-column order and accompanied by metadata describing their spatial
layout and buffered extents.
}
\details{
This function is designed for scalable, disk-backed segmentation workflows
where large rasters must be processed tile-by-tile while preserving spatial
consistency at tile borders.


Tiles are cropped using spatial extents derived from row/column indices,
snapped to the raster grid to avoid rounding artifacts. Output rasters are
written using tiled GeoTIFF with LZW compression and safe BigTIFF handling.

Empty tiles (with no values) are skipped. An error is raised if no tiles are
produced.
}
\seealso{
\code{\link[terra]{crop}}, \code{\link[terra]{writeRaster}}
}
